#summary How to set up a development environment for Cadmos.
#labels Phase-Implementation

= Introduction =
The target audience of this page are developers that extend and maintain the Cadmos code base.
This page describes the steps to set up a working development environment:
 # Prerequisites
 # Eclipse
 # Workspace
 # Subclipse
 # Quality Rating
 # SWT Designer
 # SVN Auto-Properties
 # Source Check-out


= Prerequisites =
Cadmos is developed using new Java 7 language features like inferred type parameters (e.g {{{Set<String> names = new HashSet<>();}}}), so you need a Java 7 runtime or SDK on the development machine, e.g. available at [http://www.oracle.com/technetwork/java/javase/downloads/index.html] .

<a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">http://www.oracle.com/ocom/groups/public/@otn/documents/webcontent/347320.gif</a>


= Install Eclipse Indigo 3.7.1 =
Cadmos has a _"pure Java"_ *core* part and an eclipse based *ui* part.
Eclipse has build-in full Java 7 support starting from version 3.7.1, which can be downloaded and installed for many platforms and operating systems from [http://www.eclipse.org/downloads/packages/eclipse-classic-371/indigosr1].

<a href="http://www.eclipse.org/downloads/packages/eclipse-classic-371/indigosr1">http://www.eclipse.org/eclipse.org-common/themes/Nova/images/eclipse.png</a> 


= Setup Eclipse Workspace =
Start eclipse and choose a workspace to work with.
In the menu, choose _Window ... Preferences ... General ... Workspace_ and select *UTF-8* as _Text file encoding_.

http://www4.in.tum.de/~schwitze/cadmos/utf8.png 

= Install Subclipse =
Cadmos uses SVN for version control, which is supported by several client integrations for eclipse.
We use a eclipse SVN client called *subclipse*.

You can use this eclipse update manager url to install subclipse 1.8.x: [http://subclipse.tigris.org/update_1.8.x]

<a href="http://subclipse.tigris.org/">http://subclipse.tigris.org/branding/images/logo.gif</a>

= Install ConQAT Rating Support =
Cadmos uses a review based quality rating (*RED*, *YELLOW* or *GREEN*) for each file:
 * *RED:* File is under development or has pending todos after review.
 * *YELLOW:* File is marked _"ready for review"_ by developer.
 * *GREEN:* File passed review.
This quality rating is tool-supported for eclipse by the *ConQAT rating support*, which can be installed by the eclipse update manager, using the url: [http://www4.in.tum.de/~ccsm/eclipse_update_site]

For our purposes, it is sufficient to select solely the plug-in *"ConQAT Development Tools"* in the eclipse update manager.

<a href="http://conqat.cs.tum.edu/index.php/ConQAT">http://conqat.informatik.tu-muenchen.de/images/2/28/Conqat_logo_wide_tum.jpg</a>

= Install SWT Designer =
Most developers also work on user interface related code, which is developed in Cadmos using the SWT Designer.
Use the eclipse update manager, go to the pre-installed _Indigo_ update site and open the node _General Purpose Tools_.
Select _SWT Designer_ and _SWT Designer Core_ here and proceed with download and installation.

http://code.google.com/javadevtools/wbpro/preferences/images/flyout_palette1.png


= Enable SVN Auto-Properties =
In your system's SVN *config* file, some SVN-properties need to be added in the {{{[auto-props]}}} section:

 * Make a backup copy of the original config file.
 * Open the config file with a text editor (e.g. notepad).
 * Go to the {{{[auto-props]}}} section.
 * Add the entry {{{*.java = svn:mime-type=text/plain;svn:eol-style=native;svn:keywords=Date Author Id Revision HeadURL}}}
 * Save the config file.

This automatically adds the SVN-properties (mime-type, eol-style, keywords) to new java-files when these are commited for the first time.

By convention we use the keywords $Author: $ and $Rev: $ in header comments of Cadmos java-files, to automatically include the latest author and revision of a java-file on commit.

On Windows systems, the SVN config file is typically found in a path similar to {{{*...\<user>\AppData\Roaming\Subversion*}}}.

= Check-out the Workspace Projects =
 * Follow the guidelines on [http://code.google.com/p/cadmos/source/checkout] to get read-only or write access to the source.
 * Read the page WorkspaceProjectsOverview that helps you to decide, which projects you need to check-out into your eclipse workspace.
 * Read the DevelopmentConventions for Cadmos developers.